<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stasiun Meteorologi Kelas III Enarotali - Paniai</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
    header { background: #004aad; color: white; text-align: center; padding: 1rem; }
    nav { background: #003580; padding: 0.5rem; text-align: center; }
    nav a { color: white; margin: 0 10px; text-decoration: none; font-weight: bold; }
    section { padding: 20px; max-width: 1000px; margin: auto; }
    h2 { color: #004aad; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
    th { background: #004aad; color: white; }
    footer { background: #003580; color: white; text-align: center; padding: 10px; margin-top: 20px; }
    iframe { width: 100%; height: 300px; border: none; border-radius: 10px; }
    .card { background: white; padding: 15px; border-radius: 10px; margin: 10px 0; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  </style>
</head>
<body>
  <header>
    <h1>Stasiun Meteorologi Kelas III Enarotali - Paniai</h1>
    <p>BMKG - Badan Meteorologi, Klimatologi, dan Geofisika</p>
  </header>

  <nav>
    <a href="#profil">Profil</a>
    <a href="#cuaca">Prakiraan Cuaca</a>
    <a href="#gempa">Info Gempa</a>
    <a href="#kontak">Kontak</a>
  </nav>

  <section id="profil" class="card">
    <h2>Profil</h2>
    <p>Stasiun Meteorologi Kelas III Enarotali - Paniai bertugas melakukan pengamatan, pengolahan, dan penyebarluasan informasi meteorologi, klimatologi, dan geofisika di wilayah Papua Tengah.</p>
  </section>

  <section id="cuaca" class="card">
    <h2>Prakiraan Cuaca Papua Tengah</h2>
    <table id="tabel-cuaca">
      <thead>
        <tr>
          <th>Waktu</th>
          <th>Cuaca</th>
          <th>Suhu (°C)</th>
          <th>Kelembapan (%)</th>
        </tr>
      </thead>
      <tbody>
        <tr><td colspan="4">Memuat data...</td></tr>
      </tbody>
    </table>
  </section>

  <section id="gempa" class="card">
    <h2>Informasi Gempa Terkini</h2>
    <div id="info-gempa">Memuat data...</div>
  </section>

  <section id="kontak" class="card">
    <h2>Kontak</h2>
    <p><b>Telepon/WhatsApp:</b> <a href="https://wa.me/6281247906937" target="_blank">+62 812-4790-6937</a></p>
    <p><b>Instagram:</b> <a href="https://instagram.com/stametenarotali/" target="_blank">@stametenarotali</a></p>
    <p><b>Lokasi:</b></p>
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7956.054622379393!2d136.3685!3d-3.9333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x68226a33af6f6b3%3A0xa2a7b2d3ab0c4f4!2sEnarotali%2C%20Paniai!5e0!3m2!1sid!2sid!4v1699999999999"
      allowfullscreen="" loading="lazy">
    </iframe>
  </section>

  <footer>
    <p>&copy; 2025 Stasiun Meteorologi Kelas III Enarotali - Paniai | BMKG</p>
  </footer>

  <script>
    // Ambil data cuaca dari BMKG (contoh: Nabire sebagai terdekat, nanti bisa ganti ke kode Papua Tengah)
    fetch("https://api.bmkg.go.id/publik/prakiraan-cuaca?adm4=9106")
      .then(res => res.json())
      .then(data => {
        const tabel = document.querySelector("#tabel-cuaca tbody");
        tabel.innerHTML = "";
        const area = data.data[0];
        if (!area || !area.cuaca) {
          tabel.innerHTML = "<tr><td colspan='4'>Data tidak tersedia</td></tr>";
          return;
        }
        area.cuaca.forEach(item => {
          const row = `<tr>
            <td>${item.jam}</td>
            <td>${item.weather_desc}</td>
            <td>${item.t}°</td>
            <td>${item.hu}%</td>
          </tr>`;
          tabel.innerHTML += row;
        });
      })
      .catch(() => {
        document.querySelector("#tabel-cuaca tbody").innerHTML = "<tr><td colspan='4'>Gagal memuat data</td></tr>";
      });

    // Ambil data gempa BMKG
    fetch("https://data.bmkg.go.id/DataMKG/TEWS/autogempa.json")
      .then(res => res.json())
      .then(data => {
        const gempa = data.Infogempa.gempa;
        document.getElementById("info-gempa").innerHTML = `
          <p><b>Waktu:</b> ${gempa.Tanggal} ${gempa.Jam}</p>
          <p><b>Magnitudo:</b> ${gempa.Magnitude}</p>
          <p><b>Kedalaman:</b> ${gempa.Kedalaman}</p>
          <p><b>Lokasi:</b> ${gempa.Wilayah}</p>
          <p><b>Koordinat:</b> ${gempa.Lintang}, ${gempa.Bujur}</p>
        `;
      })
      .catch(() => {
        document.getElementById("info-gempa").innerText = "Gagal memuat data gempa";
      });
  </script>
</body>
</html>
